(this.webpackJsonpgenetic=this.webpackJsonpgenetic||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(7),o=n.n(l),i=n(2),c=n(1),u=n(5),s=n(16),m={1:"a",2:"A",3:"b",4:"B",5:"c",6:"C",7:"d",8:"D",9:"e",10:"E",11:"f",12:"F",13:"g",14:"G",15:"h",16:"H",17:"i",18:"I",19:"j",20:"J",21:"k",22:"K",23:"l",24:"L",25:"m",26:"M",27:"n",28:"N",29:"o",30:"O",31:"p",32:"P",33:"q",34:"Q",35:"r",36:"R",37:"s",38:"S",39:"t",40:"T",41:"u",42:"U",43:"v",44:"V",45:"w",46:"W",47:"x",48:"X",49:"y",50:"Y",51:"z",52:"Z",53:" ",54:".",55:",",56:"!",57:"?",58:"-"},p=Object.keys(m),h=p[p.length-1],d=p[0],g=function e(){var t=this;Object(u.a)(this,e),this.set_goal=function(e){t.goal_state=e.split(""),t.goal_state_encoding=t.goal_state.map((function(e){return t.letter_to_int(e)}));for(var n=[],a=0;a<t.goal_state.length;a++)n.push(Math.floor(Math.random()*(h-d+1)+1));return t.initial_state_encoding=[].concat(n),t.initial_state=t.initial_state_encoding.map((function(e){return t.int_to_letter(e)})),t.goal_state},this.get_successors=function(e){for(var n=[],a=0;a<e.length;a++)for(var r=d;r<h;r++)if(e[a]!==r){var l=Object(i.a)(e);l[a]=t.int_to_letter(r),n.push(l)}return n},this.fitness=function(e){for(var n=e.map((function(e){return t.letter_to_int(e)})),a=0,r=0;r<n.length;r++)a+=Math.abs(t.goal_state_encoding[r]-n[r]);return a},this.letter_to_int=function(e){for(var t in m)if(m[t]===e)return t},this.int_to_letter=function(e){return m[e]}},f=function e(t,n,a,r,l,o,i,c){Object(u.a)(this,e),this.id=Object(s.a)(),this.state=t,this.parent_one=n,this.parent_two=a,this.parent_split_point=r,this.is_mutated=l,this.value=o,this.generation=i,this.mutation_point=c};var E=function(e){var t=e.node;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Node Information"),r.a.createElement("p",null,"Generation: ",t.generation),r.a.createElement("p",null,"String: [",t.state.join(""),"]"),r.a.createElement("p",null,"Fitness: ",t.value),r.a.createElement("p",null,"Immediate parents: ",1!==t.generation?"[".concat(t.parent_one.state.join(""),"] \u2a09 [").concat(t.parent_two.state.join(""),"]"):"None"),r.a.createElement("p",null,"Parent fitnesses: ",1!==t.generation?"".concat(t.parent_one.value,",  ").concat(t.parent_two.value):"None"),r.a.createElement("p",null,"Parent crossover point: ",1!==t.generation?"".concat(t.parent_split_point," => [").concat(t.parent_one.state.slice(0,t.parent_split_point).join(""),"] + [").concat(t.parent_two.state.slice(t.parent_split_point).join(""),"]"):"None"),r.a.createElement("p",null,"Is mutated: ",t.is_mutated?"Yes":"No"),r.a.createElement("p",null,"Mutation point: ",t.is_mutated?"".concat(t.mutation_point," [").concat(t.parent_one.state.slice(0,t.parent_split_point).concat(t.parent_two.state.slice(t.parent_split_point))[t.mutation_point],"] => [").concat(t.state[t.mutation_point],"]"):""))};var _=function(e){var t=e.history,n=e.currentHighlightNode,a=e.updateHighlightNode,l=(h-d)*t[0][0].state.length,o=function(e){var t={width:"7px",height:"7px",backgroundColor:"rgba(0, 0, 0, ".concat(Math.pow(e.value,2)/l,")"),borderCollapse:"collapse"};return n.id===e.id&&(t.backgroundColor="red"),1!==n.generation&&(n.parent_one.id!==e.id&&n.parent_two.id!==e.id||(t.backgroundColor="orange")),t};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{marginTop:"10px"}},"Fitness Matrix"),r.a.createElement("p",null,"Horizontal axis denotes generation (left side of matrix shows earlier generations)"),r.a.createElement("p",null,"Vertical axis denotes individuals (nodes within the same column are from the same generation)"),r.a.createElement("p",null,"Lighter color denotes higher fitness score"),r.a.createElement("p",null,r.a.createElement("div",{style:{height:"7px",width:"7px",backgroundColor:"red",display:"inline-block"}})," denotes currently selected node"),r.a.createElement("p",null,r.a.createElement("div",{style:{height:"7px",width:"7px",backgroundColor:"orange",display:"inline-block"}})," denotes parents of currently selected node"),r.a.createElement("div",{className:"fitness-matrix",style:{border:"1px solid black",display:"inline-block"}},t[0].map((function(e,n){return t.map((function(e){return e[n]}))})).map((function(e){return r.a.createElement("div",{className:"row",style:{display:"flex"}},e.map((function(e){return r.a.createElement("div",{className:"node",onClick:function(){return a(e.id,e.generation)},style:o(e)})})))}))))};n(13);var v=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(!1),u=Object(c.a)(o,2),s=u[0],p=u[1],v=Object(a.useState)(""),b=Object(c.a)(v,2),w=b[0],y=b[1],j=Object(a.useState)(null),k=Object(c.a)(j,2),x=k[0],O=k[1],M=Object(a.useState)(null),N=Object(c.a)(M,2),S=N[0],C=N[1],A=Object(a.useState)(null),I=Object(c.a)(A,2),F=I[0],G=I[1],H=function(e,t){var n=S[t-1].find((function(t){return t.id===e}));G(n)};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"instructions"},r.a.createElement("h3",null,"Word Searching with Genetic Algorithm"),r.a.createElement("p",null,'Starting from an initial "population" of randomly generated strings (of equal length to target word), the algorithm searches for the target word by repeatedly generating new populations that are increasingly fit with time. A string is fit if it is similar to the target word in terms of the sum of the distances of the corresponding letters, according to the alphabet. For instance,',r.a.createElement("i",null," a")," is more similar to ",r.a.createElement("i",null,"c")," than it is to ",r.a.createElement("i",null,"z"),"."),r.a.createElement("br",null),r.a.createElement("b",null,"Algorithm."),r.a.createElement("p",null,"Repeat for ",r.a.createElement("i",null,"k")," generations, or until the target word is found. Steps for producing each population generation:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Randomly select two individuals from the current generation, weighted by their fitness (fitter individuals are more likely to be selected). These are the parents."),r.a.createElement("li",null,"Split both parents based on a randomly determined split point. Then, combine the left half of parent A with the right half of parent B, yielding the child."),r.a.createElement("li",null,"Randomly mutate the child based on some independent probability. To mutate a child, replace one symbol of the child with another randomly selected symbol."),r.a.createElement("li",null,"Add child to the current generation pool. Repeat steps 1 - 3 until new population count reaches the previous population count.")),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y(n),p(!0),l(""),O(null),C(null)}},r.a.createElement("label",null,"Target word (max ",12," chars, chars allowed: ",r.a.createElement("code",null,"aZ., -?!"),"):",r.a.createElement("input",{type:"text",value:n,pattern:"[A-Za-z .,!?-]*",onChange:function(e){return l(e.target.value)},maxLength:12})),r.a.createElement("input",{type:"submit",value:"Submit"}))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("p",null,"Agent ready (Goal: ",r.a.createElement("code",null,w),")"),r.a.createElement("button",{onClick:function(e){var t=new g;t.set_goal(w);var n=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=function(e){for(var t=(h-d)*e[0].state.length,n=e.map((function(e){return e.value})).map((function(e){return Math.exp(t-e)})),a=n.reduce((function(e,t){return e+t}),0),r=n.map((function(e){return e/a})),l=[],o=0,i=0;i<r.length;i++)o+=r[i],l.push(o);var c=Math.random(),u=l.findIndex((function(e){return c<e})),s=Math.random(),m=l.findIndex((function(e){return s<e}));return[e[u],e[m]]},r=function(e){var n=e[0].state,a=e[1].state,r=Math.floor(Math.random()*n.length),l=n.slice(0,r).concat(a.slice(r)),o=e[0].generation;return new f(l,e[0],e[1],r,!1,t(l),o+1,-1)},l=function(e){var n=Object(i.a)(e.state),a=Math.floor(Math.random()*n.length),r=m[Math.ceil(Math.random()*h)];return n[a]=r,new f(n,e.parent_one,e.parent_two,e.parent_split_point,!0,t(n),e.generation,a)},o=0,c=.1,u=e.map((function(e){return new f(e,null,null,null,!1,t(e),1,-1)})),s=u.map((function(e){return e.value})),p=[u];!s.includes(0)&&o<n;){for(var g=[],E=0;E<u.length;E++){var _=a(u),v=r(_),b=Math.random();b<c&&(v=l(v)),g.push(v)}s=(u=g).map((function(e){return e.value})),p.push(u),o+=1}var w=Object(i.a)(u);w.sort((function(e,t){return e.value-t.value}));var y=w[0];return{solution:y,step:o,history:p}}(t.get_successors(t.initial_state),t.fitness,100),a=n.solution,r=(n.step,n.history);O(a),G(a),C(r)}},"Run genetic algorithm"),r.a.createElement("br",null)),x&&S&&r.a.createElement("div",{className:"results"},r.a.createElement("div",null,r.a.createElement("b",null,r.a.createElement("p",null,"Best fit solution found in generation ".concat(S.length," (fitness score: ").concat(x.value,")")),r.a.createElement("p",null,"Immediate parents: [".concat(x.parent_one.state.join(""),"] and [").concat(x.parent_two.state.join(""),"] (with mutation: ").concat(x.is_mutated,")"))),r.a.createElement("br",null),r.a.createElement("h3",null,"Genetic history"),r.a.createElement("i",null,"Click on table entry to show more information."),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Generation count"),r.a.createElement("th",null,"Generation elite (fitness score)"),r.a.createElement("th",null,"Parent 1"),r.a.createElement("th",null,"Parent 2"),r.a.createElement("th",null,"Mutated"))),r.a.createElement("tbody",null,S.map((function(e,t){var n=Object(i.a)(e);n.sort((function(e,t){return e.value-t.value}));var a=n[0];return r.a.createElement("tr",{key:t},r.a.createElement("th",null,t+1),r.a.createElement("th",{onClick:function(){return H(a.id,a.generation)}},"".concat(a.state.join("")," (").concat(a.value,")")),0!==t?r.a.createElement("th",{onClick:function(){return H(a.parent_one.id,a.parent_one.generation)}},"".concat(a.parent_one.state.join("")," (").concat(a.parent_one.value,")")):r.a.createElement("th",null,"None"),0!==t?r.a.createElement("th",{onClick:function(){return H(a.parent_two.id,a.parent_two.generation)}},"".concat(a.parent_two.state.join("")," (").concat(a.parent_two.value,")")):r.a.createElement("th",null,"None"),r.a.createElement("th",null,"".concat(a.is_mutated)))}))))),r.a.createElement("div",{className:"highlight"},r.a.createElement(E,{node:F}),r.a.createElement(_,{history:S,currentHighlightNode:F,updateHighlightNode:H}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root"))},8:function(e,t,n){e.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.6e5d88d1.chunk.js.map